[core]
executor = LocalExecutor
sql_alchemy_conn = postgresql+psycopg2://airflow:airflow@airflow-db:5432/airflow
dags_folder = /opt/airflow/dags
load_examples = False

[database]
sql_alchemy_conn = postgresql+psycopg2://airflow:airflow@airflow-db:5432/airflow
sql_alchemy_conn_async = postgresql+asyncpg://airflow:airflow@airflow-db:5432/airflow

[webserver]
web_server_host = 0.0.0.0
web_server_port = 8080
expose_config = True
rbac = True
default_ui_timezone = Asia/Ho_Chi_Minh
authenticate = False

[logging]
log_filename_template = dag_id={{ ti.dag_id }}/run_id={{ ti.run_id }}/task_id={{ ti.task_id }}/{% if ti.map_index >= 0 %}map_index={{ ti.map_index }}/{% endif %}attempt={{ try_number|default(ti.try_number) }}.log
log_processor_filename_template = {{ filename }}.log

[scheduler]
catchup_by_default = False
max_active_runs_per_dag = 1
dag_dir_list_interval = 30

[email]
email_backend = airflow.utils.email.send_email_smtp

[api]
auth_backend = airflow.api.auth.backend.basic_auth
